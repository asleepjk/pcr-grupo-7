<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>

    <link rel="stylesheet" href="./css/styles.css">


    <title>Pesta√±as Responsivas</title>

  
    </style>
</head>
<body>

<!-- üîπ Pantalla de Login -->
<div id="login-container">
    <div class="login-box">
        <h2>Iniciar Sesi√≥n</h2>
        <input type="text" id="username" placeholder="Usuario">
        <input type="password" id="password" placeholder="Contrase√±a">
        <button id="login-btn">Ingresar</button>
        <p id="login-error">Usuario o contrase√±a incorrectos.</p>
    </div>
</div>

<div id="overlay">
    <div class="overlay-content">
        <img src="./assets/esge.png" alt="Logo ESGE">
        <h2>CORRELACI√ìN DEL PODER NACIONAL AZUL Y AMARILLO</h2>
    </div>
</div>


<!-- TODO EL CONTENIDO DE TABLAS -->
<div id="app-content" style="display: none;">
    <button id="logout-btn" style="position: absolute; top: 10px; right: 10px;">Cerrar Sesi√≥n</button>

    <button class="boton" id="export-table-pdf">Exportar a PDF</button>
    <button class="save" id="save-all-data">Guardar</button>
    <button class="reset" onclick="localStorage.clear(); location.reload();">Reiniciar Datos</button>

    <button class="menu-toggle" onclick="toggleMenu()">Men√∫</button>

    <div class="menu-container" id="menu">
        <div class="menu-vertical">
            <button class="menu-button close-menu" onclick="toggleMenu()">Cerrar</button>
            <button class="menu-button" onclick="openTab(event, 'politica')">POL√çTICO</button>
            <button class="menu-button" onclick="openTab(event, 'economia')">ECON√ìMICO</button>
            <button class="menu-button" onclick="openTab(event, 'militar')">MILITAR</button>
            <button class="menu-button" onclick="openTab(event, 'social')">SOCIAL</button>
            <button class="menu-button" onclick="openTab(event, 'informacion')">INFORMACI√ìN</button>
            <button class="menu-button" onclick="openTab(event, 'infraestructura')">INFRAESTRUCTURA</button>
            <button class="menu-button" onclick="openTab(event, 'fisico')">ENTORNO F√çSICO</button>
            <button class="menu-button" onclick="openTab(event, 'graficos')">ESTAD√çSTICAS</button>
            <button class="menu-button active" onclick="openTab(event, 'variables')">RESUMEN</button>
        </div>
    </div>


    <div id="variables" class="tab-content active">

        
        <h2>Cuadro de Variables</h2>
        <table>
            <tr>
                <th rowspan="2">VARIABLE OPERACIONAL</th>
                <th rowspan="2">FACTORES</th>
                <th colspan="3" class="nuestras">NUESTRAS</th>
                <th colspan="3" class="enemigo">ENEMIGO</th>
                <th rowspan="2">POT COMB</th>
            </tr>
            <tr>
                <th>CANT</th>
                <th>COEF</th>
                <th>TOTAL</th>
                <th>CANT</th>
                <th>COEF</th>
                <th>TOTAL</th>
            </tr>
            <tr>
                <td rowspan="5">POL√çTICA</td>
                <td>GOBIERNO CENTRAL</td>
                <td><input type="number" id="cant-gobierno-central_master"></td>
                <td><input type="number" value="2"></td>
                <td><input type="number" id="total-gobierno-central_master" readonly></td>
                <td><input type="number" id="cant-gobierno-central-enemigo_master"></td>
                <td><input type="number" value="2"></td>
                <td><input type="number" id="total-gobierno-central-enemigo_master" readonly></td>
                <td rowspan="5" style="vertical-align: bottom;"><input type="number" id="potcomb-politica_master"></td>
            </tr>
            <tr>
                <td>RELACION CON PARTIDOS POLITICOS Y GRUPOS DE INTERES</td>
                <td><input type="number" id="cant-partidos-politicos_master"></td>
                <td><input type="number" value="1"></td>
                <td><input type="number" id="total-partidos-politicos_master" readonly></td>
                <td><input type="number" id="cant-partidos-politicos-enemigo_master"></td>
                <td><input type="number" value="1"></td>
                <td><input type="number" id="total-partidos-politicos-enemigo_master" readonly></td>
            </tr>
            <tr>
                <td>RELACION CON GOBIERNOS LOCALES</td>
                <td><input type="number" id="cant-gobiernos-locales_master"></td>
                <td><input type="number" value="1"></td>
                <td><input type="number" id="total-gobiernos-locales_master" readonly></td>
                <td><input type="number" id="cant-gobiernos-locales-enemigo_master"></td>
                <td><input type="number" value="1"></td>
                <td><input type="number" id="total-gobiernos-locales-enemigo_master" readonly></td>
            </tr>
            <tr>
                <td>RELACIONES INTERNACIONALES</td>
                <td><input type="number" id="cant-relaciones-internacionales_master"></td>
                <td><input type="number" value="1"></td>
                <td><input type="number" id="total-relaciones-internacionales_master" readonly></td>
                <td><input type="number" id="cant-relaciones-internacionales-enemigo_master"></td>
                <td><input type="number" value="1"></td>
                <td><input type="number" id="total-relaciones-internacionales-enemigo_master" readonly></td>
            </tr>
            <tr>
                <td class="subtotal"><strong>Subtotal</strong></td>
                <td class="subtotal" colspan="3" style="text-align: right;"><input type="number" id="subtotal-nuestras_master"readonly></td>
                <td class="subtotal" colspan="3" style="text-align: right;"><input type="number" id="subtotal-enemigo_master" readonly></td>
            </tr>

            <!-- MILITAR-->
            <tr>
                <td rowspan="6">MILITAR</td>
                <td>FUERZA TERRESTRE</td>
                <td><input type="number" id="cant-ft_master" readonly></td>
                <td><input type="number" id="coef-ft_master" value="1" readonly></td>
                <td><input type="number" id="total-ft_master" readonly></td>
                <td><input type="number" id="cant-ft-enemigo_master" readonly></td>
                <td><input type="number" id="coef-ft-enemigo_master" value="1" readonly></td>
                <td><input type="number" id="total-ft-enemigo_master" readonly></td>
                <td rowspan="6" style="vertical-align: bottom;"><input type="number" id="potcomb-militar_master" readonly></td>
            </tr>
            <tr>
                <td>FUERZA NAVAL</td>
                <td><input type="number" id="cant-fn_master" readonly></td>
                <td><input type="number" id="coef-fn_master" value="1" readonly></td>
                <td><input type="number" id="total-fn_master" readonly></td>
                <td><input type="number" id="cant-fn-enemigo_master" readonly></td>
                <td><input type="number" id="coef-fn-enemigo_master" value="1" readonly></td>
                <td><input type="number" id="total-fn-enemigo_master" readonly></td>
            </tr>
            <tr>
                <td>FUERZA A√âREA</td>
                <td><input type="number" id="cant-fa_master" readonly></td>
                <td><input type="number" id="coef-fa_master" value="1" readonly></td>
                <td><input type="number" id="total-fa_master" readonly></td>
                <td><input type="number" id="cant-fa-enemigo_master" readonly></td>
                <td><input type="number" id="coef-fa-enemigo_master" value="1" readonly></td>
                <td><input type="number" id="total-fa-enemigo_master" readonly></td>
            </tr>
            <tr>
                <td>EXPERIENCIA EN COMBATE</td>
                <td><input type="number" id="cant-experiencia_master" readonly></td>
                <td><input type="number" id="coef-experiencia_master" value="1" readonly></td>
                <td><input type="number" id="total-experiencia_master" readonly></td>
                <td><input type="number" id="cant-experiencia-enemigo_master" readonly></td>
                <td><input type="number" id="coef-experiencia-enemigo_master" value="1" readonly></td>
                <td><input type="number" id="total-experiencia-enemigo_master" readonly></td>
            </tr>
            <tr>
                <td>LIDERAZGO</td>
                <td><input type="number" id="cant-liderazgo_master" readonly></td>
                <td><input type="number" id="coef-liderazgo_master" value="1" readonly></td>
                <td><input type="number" id="total-liderazgo_master" readonly></td>
                <td><input type="number" id="cant-liderazgo-enemigo_master" readonly></td>
                <td><input type="number" id="coef-liderazgo-enemigo_master" value="1" readonly></td>
                <td><input type="number" id="total-liderazgo-enemigo_master" readonly></td>
            </tr>
            <tr>
                <td class="subtotal"><strong>Subtotal</strong></td>
                <td class="subtotal" colspan="3" style="text-align: right;"><input type="number" id="subtotal-nuestras-militar_master" readonly></td>
                <td class="subtotal" colspan="3" style="text-align: right;"><input type="number" id="subtotal-enemigo-militar_master" readonly></td>
            </tr>
            <!-- MILITAR -->
             <!-- ECONOMIA -->
             <tr>
                <td rowspan="4">ECONOM√çA</td>
                <td>PBI</td>
                <td><input type="number" id="cant-pbi-economia_master" readonly></td>
                <td><input type="number" id="coef-pbi-economia_master" value="1" readonly></td>
                <td><input type="number" id="total-pbi-economia_master" readonly></td>
                <td><input type="number" id="cant-pbi-economia-enemigo_master" readonly></td>
                <td><input type="number" id="coef-pbi-economia-enemigo_master" value="1" readonly></td>
                <td><input type="number" id="total-pbi-economia-enemigo_master" readonly></td>
                <td rowspan="4" style="vertical-align: bottom;"><input type="number" id="potcomb-politica-economia_master" readonly></td>
            </tr>
           
            <tr>
                <td>GASTO EN DEFENSA</td>
                <td><input type="number" id="cant-defensa-economia_master" readonly></td>
                <td><input type="number" id="coef-defensa-economia_master" value="3" readonly></td>
                <td><input type="number" id="total-defensa-economia_master" readonly></td>
                <td><input type="number" id="cant-defensa-economia-enemigo_master" readonly></td>
                <td><input type="number" id="coef-defensa-economia-enemigo_master" value="3" readonly></td>
                <td><input type="number" id="total-defensa-economia-enemigo_master" readonly></td>
            </tr>
            <tr>
                <td>RESERVAS INTERNACIONALES</td>
                <td><input type="number" id="cant-reserva-economia_master" readonly></td>
                <td><input type="number" id="coef-reserva-economia_master" value="3" readonly></td>
                <td><input type="number" id="total-reserva-economia_master" readonly></td>
                <td><input type="number" id="cant-reserva-economia-enemigo_master" readonly></td>
                <td><input type="number" id="coef-reserva-economia-enemigo_master" value="3" readonly></td>
                <td><input type="number" id="total-reserva-economia-enemigo_master" readonly></td>
            </tr>
           
            <tr>
                <td class="subtotal"><strong>Subtotal</strong></td>
                <td class="subtotal" colspan="3" style="text-align: right;"><input type="number" id="subtotal-nuestras-economia_master" readonly></td>
                <td class="subtotal" colspan="3" style="text-align: right;"><input type="number" id="subtotal-enemigo-economia_master" readonly></td>
            </tr>
            <!--ECONOMIA-->
            <!--SOCIAL-->
            <tr>
                <td rowspan="4">SOCIAL</td>
                <td>IDENTIDAD SOCIAL</td>
                <td><input type="number" id="cant-identidad_master" readonly></td>
                <td><input type="number" id="coef-identidad_master" value="2" readonly></td>
                <td><input type="number" id="total-identidad_master" readonly></td>
                <td><input type="number" id="cant-identidad-enemigo_master" readonly></td>
                <td><input type="number" id="coef-identidad-enemigo_master" value="2" readonly></td>
                <td><input type="number" id="total-identidad-enemigo_master" readonly></td>
                <td rowspan="4" style="vertical-align: bottom;"><input type="number" id="potcomb-social_master" readonly></td>
            </tr>
            <tr>
                <td>GESTI√ìN DEL SUSTENTO</td>
                <td><input type="number" id="cant-gestion_master" readonly></td>
                <td><input type="number" id="coef-gestion_master" value="1" readonly></td>
                <td><input type="number" id="total-gestion_master" readonly></td>
                <td><input type="number" id="cant-gestion-enemigo_master" readonly></td>
                <td><input type="number" id="coef-gestion-enemigo_master" value="1" readonly></td>
                <td><input type="number" id="total-gestion-enemigo_master" readonly></td>
            </tr>
            <tr>
                <td>RECURSOS CR√çTICOS</td>
                <td><input type="number" id="cant-recursos_master" readonly></td>
                <td><input type="number" id="coef-recursos_master" value="2" readonly></td>
                <td><input type="number" id="total-recursos_master" readonly></td>
                <td><input type="number" id="cant-recursos-enemigo_master" readonly></td>
                <td><input type="number" id="coef-recursos-enemigo_master" value="2" readonly></td>
                <td><input type="number" id="total-recursos-enemigo_master" readonly></td>
            </tr>
            <tr>
                <td class="subtotal"><strong>Subtotal</strong></td>
                <td class="subtotal" colspan="3" style="text-align: right;"><input type="number" id="subtotal-nuestras-social_master" readonly></td>
                <td class="subtotal" colspan="3" style="text-align: right;"><input type="number" id="subtotal-enemigo-social_master" readonly></td>
            </tr>
            <!--SOCIAL-->
            <!-- INFRAESTRUCTURA-->
            <tr>
                <td rowspan="7">INFRAESTRUCTURA</td>
                <td>CENTRAL HIDROEL√âCTRICA</td>
                <td><input type="number" id="cant-hidroelectrica_master" readonly></td>
                <td><input type="number" id="coef-hidroelectrica_master" value="1" readonly></td>
                <td><input type="number" id="total-hidroelectrica_master" readonly></td>
                <td><input type="number" id="cant-hidroelectrica-enemigo_master" readonly></td>
                <td><input type="number" id="coef-hidroelectrica-enemigo_master" value="1" readonly></td>
                <td><input type="number" id="total-hidroelectrica-enemigo_master" readonly></td>
                <td rowspan="7" style="vertical-align: bottom;"><input type="number" id="potcomb-politica-infraestructura_master" readonly></td>
            </tr>
            <tr>
                <td>REPRESAS</td>
                <td><input type="number" id="cant-represas_master" readonly></td>
                <td><input type="number" id="coef-represas_master" value="1" readonly></td>
                <td><input type="number" id="total-represas_master" readonly></td>
                <td><input type="number" id="cant-represas-enemigo_master" readonly></td>
                <td><input type="number" id="coef-represas-enemigo_master" value="1" readonly></td>
                <td><input type="number" id="total-represas-enemigo_master" readonly></td>
            </tr>
            <tr>
                <td>REFINER√çA</td>
                <td><input type="number" id="cant-refineria_master" readonly></td>
                <td><input type="number" id="coef-refineria_master" value="1" readonly></td>
                <td><input type="number" id="total-refineria_master" readonly></td>
                <td><input type="number" id="cant-refineria-enemigo_master" readonly></td>
                <td><input type="number" id="coef-refineria-enemigo_master" value="1" readonly></td>
                <td><input type="number" id="total-refineria-enemigo_master" readonly></td>
            </tr>
            <tr>
                <td>PUERTOS</td>
                <td><input type="number" id="cant-puertos_master" readonly></td>
                <td><input type="number" id="coef-puertos_master" value="2" readonly></td>
                <td><input type="number" id="total-puertos_master" readonly></td>
                <td><input type="number" id="cant-puertos-enemigo_master" readonly></td>
                <td><input type="number" id="coef-puertos-enemigo_master" value="2" readonly></td>
                <td><input type="number" id="total-puertos-enemigo_master" readonly></td>
            </tr>
            <tr>
                <td>AEROPUERTOS</td>
                <td><input type="number" id="cant-aeropuertos_master" readonly></td>
                <td><input type="number" id="coef-aeropuertos_master" value="2" readonly></td>
                <td><input type="number" id="total-aeropuertos_master" readonly></td>
                <td><input type="number" id="cant-aeropuertos-enemigo_master" readonly></td>
                <td><input type="number" id="coef-aeropuertos-enemigo_master" value="2" readonly></td>
                <td><input type="number" id="total-aeropuertos-enemigo_master" readonly></td>
            </tr>
            <tr>
                <td>RED VIAL</td>
                <td><input type="number" id="cant-vial_master" readonly></td>
                <td><input type="number" id="coef-vial_master" value="1" readonly></td>
                <td><input type="number" id="total-vial_master" readonly></td>
                <td><input type="number" id="cant-vial-enemigo_master" readonly></td>
                <td><input type="number" id="coef-vial-enemigo_master" value="1" readonly></td>
                <td><input type="number" id="total-vial-enemigo_master" readonly></td>
            </tr>
            <tr>
                <td class="subtotal"><strong>Subtotal</strong></td>
                <td class="subtotal" colspan="3" style="text-align: right;"><input type="number" id="subtotal-nuestras-infraestructura_master" readonly></td>
                <td class="subtotal" colspan="3" style="text-align: right;"><input type="number" id="subtotal-enemigo-infraestructura_master" readonly></td>
            </tr>
             <!-- INFRAESTRUCTURA-->
             <!--INFOMRACION-->
             <tr>
                <td rowspan="5">INFORMACI√ìN</td>
                <td>MEMBRESIAS INTERNACIONALES DE INFORMACION GLOBAL</td>
                <td><input type="number" id="cant-membresias_master" readonly></td>
                <td><input type="number" id="coef-membresias_master" value="1" readonly></td>
                <td><input type="number" id="total-membresias_master" readonly></td>
                <td><input type="number" id="cant-membresias-enemigo_master" readonly></td>
                <td><input type="number" id="coef-membresias-enemigo_master" value="1" readonly></td>
                <td><input type="number" id="total-membresias-enemigo_master" readonly></td>
                <td rowspan="5" style="vertical-align: bottom;"><input type="number" id="potcomb-informacion_master" readonly></td>
            </tr>
            <tr>
                <td>AGENCIAS DE INTELIGENCIAS</td>
                <td><input type="number" id="cant-agencias_master" readonly></td>
                <td><input type="number" id="coef-agencias_master" value="1" readonly></td>
                <td><input type="number" id="total-agencias_master" readonly></td>
                <td><input type="number" id="cant-agencias-enemigo_master" readonly></td>
                <td><input type="number" id="coef-agencias-enemigo_master" value="1" readonly></td>
                <td><input type="number" id="total-agencias-enemigo_master" readonly></td>
            </tr>
            <tr>
                <td>MEDIOS DE COMUNICACI√ìN</td>
                <td><input type="number" id="cant-medios_master" readonly></td>
                <td><input type="number" id="coef-medios_master" value="1" readonly></td>
                <td><input type="number" id="total-medios_master" readonly></td>
                <td><input type="number" id="cant-medios-enemigo_master" readonly></td>
                <td><input type="number" id="coef-medios-enemigo_master" value="1" readonly></td>
                <td><input type="number" id="total-medios-enemigo_master" readonly></td>
            </tr>
            <tr>
                <td>INFORMACIONES DE DEFENSA</td>
                <td><input type="number" id="cant-infodef_master" readonly></td>
                <td><input type="number" id="coef-infodef_master" value="1" readonly></td>
                <td><input type="number" id="total-infodef_master" readonly></td>
                <td><input type="number" id="cant-infodef-enemigo_master" readonly></td>
                <td><input type="number" id="coef-infodef-enemigo_master" value="1" readonly></td>
                <td><input type="number" id="total-infodef-enemigo_master" readonly></td>
            </tr>
            <tr>
                <td class="subtotal"><strong>Subtotal</strong></td>
                <td class="subtotal" colspan="3" style="text-align: right;"><input type="number" id="subtotal-nuestras-informacion_master" readonly></td>
                <td class="subtotal" colspan="3" style="text-align: right;"><input type="number" id="subtotal-enemigo-informacion_master" readonly></td>
            </tr>
             <!--INFOMRACION-->
             <!--FISICO-->
             <tr>
                <td rowspan="7">F√çSICO</td>
                <td>RELIEVE</td>
                <td><input type="number" id="cant-relieve_master" readonly></td>
                <td><input type="number" id="coef-relieve_master" value="1" readonly></td>
                <td><input type="number" id="total-relieve_master" readonly></td>
                <td><input type="number" id="cant-relieve-enemigo_master" readonly></td>
                <td><input type="number" id="coef-relieve-enemigo_master" value="1" readonly></td>
                <td><input type="number" id="total-relieve-enemigo_master" readonly></td>
                <td rowspan="7" style="vertical-align: bottom;"><input type="number" id="potcomb-politica-fisico_master" readonly></td>
            </tr>
            <tr>
                <td>VEGETACI√ìN</td>
                <td><input type="number" id="cant-vegetacion_master" readonly></td>
                <td><input type="number" id="coef-vegetacion_master" value="2" readonly></td>
                <td><input type="number" id="total-vegetacion_master" readonly></td>
                <td><input type="number" id="cant-vegetacion-enemigo_master" readonly></td>
                <td><input type="number" id="coef-vegetacion-enemigo_master" value="2" readonly></td>
                <td><input type="number" id="total-vegetacion-enemigo_master" readonly></td>
            </tr>
            <tr>
                <td>HIDROGRAF√çA</td>
                <td><input type="number" id="cant-hidrografia_master" readonly></td>
                <td><input type="number" id="coef-hidrografia_master" value="2" readonly></td>
                <td><input type="number" id="total-hidrografia_master" readonly></td>
                <td><input type="number" id="cant-hidrografia-enemigo_master" readonly></td>
                <td><input type="number" id="coef-hidrografia-enemigo_master" value="2" readonly></td>
                <td><input type="number" id="total-hidrografia-enemigo_master" readonly></td>
            </tr>
            <tr>
                <td>OBRAS DE ARTE</td>
                <td><input type="number" id="cant-arte_master" readonly></td>
                <td><input type="number" id="coef-arte_master" value="1" readonly></td>
                <td><input type="number" id="total-arte_master" readonly></td>
                <td><input type="number" id="cant-arte-enemigo_master" readonly></td>
                <td><input type="number" id="coef-arte-enemigo_master" value="1" readonly></td>
                <td><input type="number" id="total-arte-enemigo_master" readonly></td>
            </tr>
            <tr>
                <td>LOCALIDADES</td>
                <td><input type="number" id="cant-localidades_master" readonly></td>
                <td><input type="number" id="coef-localidades_master" value="1" readonly></td>
                <td><input type="number" id="total-localidades_master" readonly></td>
                <td><input type="number" id="cant-localidades-enemigo_master" readonly></td>
                <td><input type="number" id="coef-localidades-enemigo_master" value="1" readonly></td>
                <td><input type="number" id="total-localidades-enemigo_master" readonly></td>
            </tr>
            <tr>
                <td>NATURALEZA DE SUELO</td>
                <td><input type="number" id="cant-naturaleza_master" readonly></td>
                <td><input type="number" id="coef-naturaleza_master" value="2" readonly></td>
                <td><input type="number" id="total-naturaleza_master" readonly></td>
                <td><input type="number" id="cant-naturaleza-enemigo_master" readonly></td>
                <td><input type="number" id="coef-naturaleza-enemigo_master" value="2" readonly></td>
                <td><input type="number" id="total-naturaleza-enemigo_master" readonly></td>
            </tr>
            <tr>
                <td class="subtotal"><strong>Subtotal</strong></td>
                <td class="subtotal" colspan="3" style="text-align: right;"><input type="number" id="subtotal-nuestras-fisico_master" readonly></td>
                <td class="subtotal" colspan="3" style="text-align: right;"><input type="number" id="subtotal-enemigo-fisico_master" readonly></td>
            </tr>
             <!--FISICO-->
        </table>
    </div>
</div>
    
    <div id="graficos" class="tab-content"></div>
    <div id="politica" class="tab-content"></div>
    <div id="militar" class="tab-content"></div>
    <div id="economia" class="tab-content"></div>
    <div id="social" class="tab-content"></div>
    <div id="infraestructura" class="tab-content"></div>
    <div id="informacion" class="tab-content"></div>
    <div id="fisico" class="tab-content"></div>

    <script>
document.addEventListener("DOMContentLoaded", function () {
    console.log("üîÑ Cargando todos los datos al iniciar...");
    loadAllTableData(); // üî• Cargar datos guardados al inicio

    // Bot√≥n para guardar toda la informaci√≥n
    document.getElementById("save-all-data").addEventListener("click", function () {
        console.log("üíæ Guardando todos los datos...");
        saveAllData();
        alert("Datos guardados correctamente.");
    });
});

// üîπ Funci√≥n para guardar los datos de todas las pesta√±as
function saveAllData() {
    saveAllTableDataPolitica();
    saveAllTableDataMilitar();
    saveAllTableDataEconomia();
    saveAllTableDataSocial();
    saveAllTableDataInfraestructura();
    saveAllTableDataInformacion();
    saveAllTableDataFisico();
    saveAllTableDataIndex();
}

// üîπ Guardar datos del `index.html`
function saveAllTableDataIndex() {
    let tableData = [];

    document.querySelectorAll("#index input[type='number']").forEach((input, index) => {
        tableData[index] = input.value;
        console.log(`‚úÖ Guardado en Index: Index ${index} = ${input.value}`);
    });

    localStorage.setItem("allTableDataIndex", JSON.stringify(tableData));
    console.log("üì¶ Datos guardados en localStorage para Index:", tableData);
}

// üîπ Cargar datos del `index.html`
function loadAllTableData() {
    let storedData = JSON.parse(localStorage.getItem("allTableDataIndex")) || [];
    console.log("üì• Cargando datos de Index desde localStorage:", storedData);

    document.querySelectorAll("#index input[type='number']").forEach((input, index) => {
        if (storedData[index] !== undefined) {
            input.value = storedData[index];
            console.log(`üîÑ Restaurado en Index: Index ${index} = ${input.value}`);
        }
    });
}

// CARGAR TODO DESDE EL PRINCIPIO
document.addEventListener("DOMContentLoaded", function () {
    console.log("üîÑ Cargando todos los datos al iniciar...");
    loadAllTableData(); // üî• Cargar datos guardados al inicio

    document.getElementById("save-all-data").addEventListener("click", function () {
        console.log("üíæ Guardando todos los datos...");
        saveAllData();
        //alert("Datos de todas las pesta√±as guardados correctamente.");
    });
});

  
// üîπ Funci√≥n para abrir pesta√±as y cargar HTMLs solo cuando se haga clic
function openTab(event, tabId) {
    var i, tabcontent, tabbuttons;


    // Desactivar todas las pesta√±as y botones
    tabcontent = document.getElementsByClassName("tab-content");
    for (i = 0; i < tabcontent.length; i++) {
        tabcontent[i].classList.remove("active");
    }

    tabbuttons = document.getElementsByClassName("tab-button");
    for (i = 0; i < tabbuttons.length; i++) {
        tabbuttons[i].classList.remove("active");
    }

    // Activar la pesta√±a y bot√≥n clickeado
    document.getElementById(tabId).classList.add("active");
    event.currentTarget.classList.add("active");

    // Cargar contenido solo cuando la pesta√±a se abre por primera vez
    if (!document.getElementById(tabId).innerHTML) {
        console.log(`üì• Cargando ${tabId}.html...`);
        fetch(`${tabId}.html`)
            .then(response => response.text())
            .then(data => {
                document.getElementById(tabId).innerHTML = data;
                setTimeout(() => {
                    console.log(`üîÑ Restaurando valores en ${tabId}...`);
                    if (tabId === "politica") {
                        addTableListeners();
                        loadAllTableDataPolitica();
                    } 
                    else if (tabId === "graficos") {
                        loadGraficos();
                        //loadAllTableDataMilitar();
                    }
                    else if (tabId === "militar") {
                        addTableListenersMilitar();
                        loadAllTableDataMilitar();
                        addMainTableListenersMilitar();
                    }
                    else if (tabId === "economia") {
                        addTableListenersEconomia();
                        loadAllTableDataEconomia();
                    }
                    else if (tabId === "social") {
                        addTableListenersSocial();
                        loadAllTableDataSocial();
                    }
                    else if (tabId === "infraestructura") {
                        addTableListenersInfraestructura();
                        loadAllTableDataInfraestructura();
                    }
                    else if (tabId === "informacion") {
                        addTableListenersInformacion();
                        loadAllTableDataInformacion();
                    }
                    else if (tabId === "fisico") {
                        addTableListenersFisico();
                        loadAllTableDataFisico();
                    }
                }, 100);
            });
    }
}
        </script>
        

<script>
document.getElementById("export-table-pdf").addEventListener("click", function() {
    const { jsPDF } = window.jspdf;
    const doc = new jsPDF('p', 'mm', 'a4');

    // Seleccionamos la pesta√±a activa
    const activeTab = document.querySelector(".tab-content.active");
    if (!activeTab) {
        alert("No hay tablas visibles para exportar.");
        return;
    }

    // üîπ Guardamos el background original y lo eliminamos temporalmente
    const originalBackground = activeTab.style.background;
    activeTab.style.background = "none";

    html2canvas(activeTab, {
        scale: 2, // Aumenta la calidad de la imagen
        useCORS: true,
        backgroundColor: null // üîπ Evita que se agregue un fondo blanco
    }).then(canvas => {
        // Restauramos el background original
        activeTab.style.background = originalBackground;

        let imgData = canvas.toDataURL("image/png");
        let imgWidth = 210; // Ancho A4 en mm
        let pageHeight = 297; // Alto A4 en mm
        let imgHeight = (canvas.height * imgWidth) / canvas.width; // Escalar altura
        let heightLeft = imgHeight;
        let position = 10; // Margen inicial

        doc.addImage(imgData, "PNG", 0, position, imgWidth, imgHeight);
        heightLeft -= pageHeight - 20; // Ajuste de margen inferior

        while (heightLeft > 0) {
            doc.addPage();
            position = 10;
            doc.addImage(imgData, "PNG", 0, position - heightLeft, imgWidth, imgHeight);
            heightLeft -= pageHeight - 20;
        }

        doc.save("tablas.pdf");
    });
});


    </script>
    
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            assignIDsToInputs(); // Asegurar que todos los inputs tengan un ID √∫nico
            loadAllTableData();  // Cargar datos guardados
        
        
            // Detectar cambios en los inputs y guardarlos autom√°ticamente
            document.body.addEventListener("input", function (event) {
                if (event.target.tagName === "INPUT" && event.target.type === "number") {
                    saveAllTableData(false); // Guardar cambios en localStorage
                }
            });
        });
        
        // üîπ Asignar IDs √∫nicos a los inputs que no tienen uno
        function assignIDsToInputs() {
            let counter = 0;
            document.querySelectorAll("input[type='number']").forEach(input => {
                if (!input.id) {
                    input.id = "autoInput_" + counter; // Asignar un ID √∫nico
                    counter++;
                }
            });
        }
        
        // üîπ Guardar TODOS los valores de los inputs de TODAS las pesta√±as en localStorage
        function saveAllTableData(initialSave = false) {
            let tableData = JSON.parse(localStorage.getItem("allTableData")) || {};
        
            // Guardar los valores visibles en index.html
            document.querySelectorAll("input[type='number']").forEach(input => {
                if (initialSave && !tableData.hasOwnProperty(input.id)) {
                    tableData[input.id] = input.value || input.defaultValue;
                } else if (!initialSave) {
                    tableData[input.id] = input.value;
                }
            });
        
            // üî• Guardar los valores de los iframes o HTMLs cargados din√°micamente
            document.querySelectorAll(".tab-content iframe").forEach(iframe => {
                try {
                    let iframeInputs = iframe.contentDocument.querySelectorAll("input[type='number']");
                    iframeInputs.forEach(input => {
                        tableData[input.id] = input.value;
                    });
                } catch (e) {
                    console.warn("No se pudo acceder a una pesta√±a externa:", e);
                }
            });
        
            localStorage.setItem("allTableData", JSON.stringify(tableData));
        }
        
        // üîπ Cargar TODOS los valores de los inputs de TODAS las pesta√±as
        function loadAllTableData() {
            let storedData = JSON.parse(localStorage.getItem("allTableData")) || {};
        
            document.querySelectorAll("input[type='number']").forEach(input => {
                if (storedData.hasOwnProperty(input.id)) {
                    input.value = storedData[input.id];
                } else {
                    input.value = input.defaultValue;
                }
            });
        
            // üî• Cargar valores en los HTMLs externos cuando se abran
            document.querySelectorAll(".tab-content iframe").forEach(iframe => {
                try {
                    let iframeInputs = iframe.contentDocument.querySelectorAll("input[type='number']");
                    iframeInputs.forEach(input => {
                        if (storedData.hasOwnProperty(input.id)) {
                            input.value = storedData[input.id];
                        }
                    });
                } catch (e) {
                    console.warn("No se pudo cargar una pesta√±a externa:", e);
                }
            });
        }
        </script>
        
        

    

    <script src="script.js"></script>
    <script src="graficos.js"></script>
    <script src="economia.js"></script>
    <script src="infraestructura.js"></script>
    <script src="fisico.js"></script>
    <script src="informacion.js"></script>
    <script src="social.js"></script>
    <script src="militar.js"></script>

    <script>

document.addEventListener("DOMContentLoaded", function () {
    const loginContainer = document.getElementById("login-container");
    const appContent = document.getElementById("app-content");
    const loginBtn = document.getElementById("login-btn");
    const logoutBtn = document.getElementById("logout-btn");
    const loginError = document.getElementById("login-error");

    // üîπ Usuario y contrase√±a predefinidos (se pueden cambiar)
    const USERS = {
        "limahualla": "esge2025@", 
        "usuario": "password@@",
        "limahuaya": "esge2025@"
    };

    // üîπ Verificar si el usuario ya ha iniciado sesi√≥n
    if (localStorage.getItem("loggedInUser")) {
        showApp();
    }

    // üîπ Evento para iniciar sesi√≥n
    loginBtn.addEventListener("click", function () {
        const username = document.getElementById("username").value;
        const password = document.getElementById("password").value;

        if (USERS[username] && USERS[username] === password) {
            localStorage.setItem("loggedInUser", username);
            showApp();
        } else {
            loginError.style.display = "block"; // Mostrar mensaje de error
        }
    });

    // üîπ Evento para cerrar sesi√≥n
    logoutBtn.addEventListener("click", function () {
        localStorage.removeItem("loggedInUser");
        location.reload(); // Recargar la p√°gina para volver al login
    });

    // üîπ Mostrar la aplicaci√≥n despu√©s de iniciar sesi√≥n
    function showApp() {
        loginContainer.style.display = "none";
        appContent.style.display = "block";
    }
});
    </script>


<script>
    document.addEventListener("DOMContentLoaded", function () {
        setTimeout(() => {
            document.getElementById("overlay").style.opacity = "0";
            setTimeout(() => {
                document.getElementById("overlay").style.display = "none";
                document.getElementById("main-content").style.display = "block";
            }, 500); // Peque√±o retraso para suavizar el desvanecimiento
        }, 3000); // Ocultar despu√©s de 3 segundos
    });
</script>

<script>
            function toggleMenu() {
            const menu = document.getElementById("menu");
            menu.style.left = (menu.style.left === "0px") ? "-100%" : "0px";
        }
        toggleMenu();
</script>

<script>
function toggleVisibility(...elementIds) {
    elementIds.forEach(elementId => {
        var element = document.getElementById(elementId);
        if (element) {
            element.style.display = (element.style.display === "none") ? "table" : "none";
        }
    });
}
    </script>

    <script>
        // TABLA FUERZA AEREA
   
  </script>
    
</body>
</html>
